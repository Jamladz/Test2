<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TestScan - Testnet Scanner</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --primary: #1a73e8;
            --primary-dark: #0d47a1;
            --secondary: #ffb300;
            --background: #121212;
            --surface: #1e1e1e;
            --surface-light: #2d2d2d;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --success: #4caf50;
            --warning: #ff9800;
            --error: #f44336;
            --border: #333333;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background: var(--background);
            color: var(--text-primary);
            overflow-x: hidden;
            padding-bottom: 70px;
        }

        /* Header */
        .header {
            background: var(--surface);
            padding: 16px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }

        .logo-text {
            font-size: 1.25rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .language-switcher {
            position: relative;
        }

        .language-btn {
            background: var(--surface-light);
            border: none;
            color: var(--text-primary);
            padding: 8px 12px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .language-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--surface);
            border-radius: 8px;
            box-shadow: var(--shadow);
            width: 150px;
            display: none;
            z-index: 101;
            overflow: hidden;
        }

        .language-dropdown.active {
            display: block;
        }

        .language-option {
            padding: 12px 16px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .language-option:hover {
            background: var(--surface-light);
        }

        /* Main Content */
        .container {
            padding: 16px;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-title::after {
            content: "";
            flex: 1;
            height: 1px;
            background: linear-gradient(90deg, var(--primary), transparent);
        }

        /* Filters */
        .filters {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding: 8px 0;
            margin-bottom: 20px;
            scrollbar-width: none;
        }

        .filters::-webkit-scrollbar {
            display: none;
        }

        .filter-btn {
            background: var(--surface);
            border: 1px solid var(--border);
            color: var(--text-primary);
            padding: 8px 16px;
            border-radius: 20px;
            white-space: nowrap;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-btn.active {
            background: var(--primary);
            border-color: var(--primary);
        }

        /* Project Cards */
        .projects-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
        }

        .project-card {
            background: var(--surface);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
        }

        .project-card:hover {
            transform: translateY(-4px);
        }

        .project-header {
            padding: 16px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .project-name {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .project-status {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-active {
            background: rgba(76, 175, 80, 0.2);
            color: var(--success);
        }

        .status-closed {
            background: rgba(244, 67, 54, 0.2);
            color: var(--error);
        }

        .status-distribution {
            background: rgba(255, 152, 0, 0.2);
            color: var(--warning);
        }

        .project-body {
            padding: 16px;
        }

        .project-description {
            color: var(--text-secondary);
            margin-bottom: 12px;
            font-size: 0.9rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .project-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .project-network {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .network-icon {
            width: 16px;
            height: 16px;
            border-radius: 50%;
        }

        .trust-rating {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .rating-stars {
            color: var(--secondary);
        }

        /* Daily Updates */
        .daily-updates {
            margin-top: 30px;
        }

        .update-card {
            background: var(--surface);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            display: flex;
            gap: 12px;
            align-items: flex-start;
            box-shadow: var(--shadow);
        }

        .update-badge {
            background: var(--secondary);
            color: var(--background);
            font-size: 0.7rem;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
        }

        .update-content h4 {
            margin-bottom: 6px;
        }

        .update-content p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Project Details */
        .project-details {
            display: none;
            animation: fadeIn 0.3s;
        }

        .back-btn {
            background: none;
            border: none;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
            cursor: pointer;
            font-size: 1rem;
        }

        .project-hero {
            background: var(--surface);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .project-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .project-title h2 {
            font-size: 1.5rem;
        }

        .project-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 20px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .info-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .info-value {
            font-weight: 600;
        }

        .project-description-full {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .steps-section {
            background: var(--surface);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .steps-list {
            list-style: none;
            counter-reset: step-counter;
        }

        .step-item {
            counter-increment: step-counter;
            margin-bottom: 16px;
            padding-left: 40px;
            position: relative;
        }

        .step-item::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            width: 28px;
            height: 28px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .links-section {
            background: var(--surface);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }

        .links-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .link-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px;
            background: var(--surface-light);
            border: none;
            border-radius: 8px;
            color: var(--text-primary);
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .link-btn:hover {
            background: var(--primary);
        }

        /* Join Channel Button */
        .join-channel-btn {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--primary);
            color: white;
            border: none;
            padding: 16px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            z-index: 99;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Responsive */
        @media (min-width: 768px) {
            .projects-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .links-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">
            <div class="logo-icon">TS</div>
            <div class="logo-text">TestScan</div>
        </div>
        <div class="language-switcher">
            <button class="language-btn" id="languageBtn">
                <span>English</span>
                <span>▼</span>
            </button>
            <div class="language-dropdown" id="languageDropdown">
                <div class="language-option" data-lang="en">English</div>
                <div class="language-option" data-lang="fr">Français</div>
                <div class="language-option" data-lang="ar">العربية</div>
            </div>
        </div>
    </div>

    <!-- Home Page -->
    <div class="container" id="homePage">
        <h2 class="section-title">Ongoing Testnets</h2>
        
        <!-- Filters -->
        <div class="filters">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="ethereum">Ethereum</button>
            <button class="filter-btn" data-filter="solana">Solana</button>
            <button class="filter-btn" data-filter="sui">Sui</button>
            <button class="filter-btn" data-filter="base">Base</button>
            <button class="filter-btn" data-filter="ton">TON</button>
            <button class="filter-btn" data-filter="polygon">Polygon</button>
            <button class="filter-btn" data-filter="arbitrum">Arbitrum</button>
        </div>
        
        <!-- Projects Grid -->
        <div class="projects-grid" id="projectsGrid">
            <!-- Projects will be dynamically inserted here -->
        </div>
        
        <!-- Daily Updates -->
        <div class="daily-updates">
            <h2 class="section-title">Daily Updates</h2>
            <div class="update-card">
                <div class="update-badge">NEW</div>
                <div class="update-content">
                    <h4>ZetaChain Testnet Launched</h4>
                    <p>ZetaChain has launched its public testnet with rewards for early participants.</p>
                </div>
            </div>
            <div class="update-card">
                <div class="update-badge">UPDATE</div>
                <div class="update-content">
                    <h4>Starknet Airdrop Confirmed</h4>
                    <p>Starknet has confirmed a token airdrop for testnet participants. Distribution starts next week.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Project Details Page -->
    <div class="container project-details" id="projectDetails">
        <button class="back-btn" id="backBtn">
            <span>←</span> Back to Projects
        </button>
        
        <div class="project-hero">
            <div class="project-title">
                <h2 id="detailProjectName">Project Name</h2>
                <div class="project-status" id="detailStatus">Active</div>
            </div>
            
            <div class="project-info">
                <div class="info-item">
                    <span class="info-label">Network</span>
                    <span class="info-value" id="detailNetwork">Ethereum</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Trust Rating</span>
                    <span class="info-value" id="detailRating">8.5/10</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Participants</span>
                    <span class="info-value" id="detailParticipants">12,458</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Duration</span>
                    <span class="info-value" id="detailDuration">30 days</span>
                </div>
            </div>
            
            <div class="project-description-full" id="detailDescription">
                Project description will appear here with full details about the testnet project.
            </div>
        </div>
        
        <div class="steps-section">
            <h3>How to Participate</h3>
            <ol class="steps-list" id="stepsList">
                <!-- Steps will be dynamically inserted here -->
            </ol>
        </div>
        
        <div class="links-section">
            <h3>Official Links</h3>
            <div class="links-grid" id="linksGrid">
                <!-- Links will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <!-- Join Channel Button -->
    <button class="join-channel-btn" id="joinChannelBtn">
        <span>Join TestScan News Channel</span>
    </button>

    <script>
        // Initialize Telegram Web App
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.disableVerticalSwipes();
        tg.enableClosingConfirmation();
        tg.setHeaderColor('#121212');
        tg.setBackgroundColor('#121212');
        tg.setBottomBarColor('#1a73e8');

        // Language translations
        const translations = {
            en: {
                title: "TestScan",
                ongoingTestnets: "Ongoing Testnets",
                dailyUpdates: "Daily Updates",
                backToProjects: "Back to Projects",
                howToParticipate: "How to Participate",
                officialLinks: "Official Links",
                joinChannel: "Join TestScan News Channel",
                statusActive: "Active",
                statusClosed: "Closed",
                statusDistribution: "Distribution",
                trustRating: "Trust Rating",
                participants: "Participants",
                duration: "Duration",
                network: "Network",
                new: "NEW",
                update: "UPDATE"
            },
            fr: {
                title: "TestScan",
                ongoingTestnets: "Testnets en Cours",
                dailyUpdates: "Mises à Jour Quotidiennes",
                backToProjects: "Retour aux Projets",
                howToParticipate: "Comment Participer",
                officialLinks: "Liens Officiels",
                joinChannel: "Rejoindre la Chaîne TestScan",
                statusActive: "Actif",
                statusClosed: "Fermé",
                statusDistribution: "Distribution",
                trustRating: "Note de Confiance",
                participants: "Participants",
                duration: "Durée",
                network: "Réseau",
                new: "NOUVEAU",
                update: "MISE À JOUR"
            },
            ar: {
                title: "TestScan",
                ongoingTestnets: "شبكات الاختبار الجارية",
                dailyUpdates: "التحديثات اليومية",
                backToProjects: "العودة إلى المشاريع",
                howToParticipate: "كيفية المشاركة",
                officialLinks: "الروابط الرسمية",
                joinChannel: "انضم إلى قناة TestScan",
                statusActive: "نشط",
                statusClosed: "مغلق",
                statusDistribution: "توزيع",
                trustRating: "تقييم الثقة",
                participants: "المشاركون",
                duration: "المدة",
                network: "الشبكة",
                new: "جديد",
                update: "تحديث"
            }
        };

        // Current language
        let currentLang = 'en';

        // Sample projects data
        const projects = [
            {
                id: 1,
                name: "Starknet Quantum",
                description: "Layer 2 scaling solution for Ethereum with ZK-Rollup technology.",
                network: "ethereum",
                status: "active",
                trustRating: 9.2,
                participants: 12458,
                duration: "45 days",
                steps: [
                    "Visit the official Starknet website",
                    "Connect your Ethereum wallet",
                    "Request testnet ETH from faucet",
                    "Complete the provided tasks",
                    "Submit your wallet address for rewards"
                ],
                links: [
                    { name: "Website", url: "https://starknet.io" },
                    { name: "Twitter", url: "https://twitter.com/starknet" },
                    { name: "Discord", url: "https://discord.gg/starknet" },
                    { name: "Docs", url: "https://docs.starknet.io" }
                ]
            },
            {
                id: 2,
                name: "Solana Eclipse",
                description: "High-performance blockchain for decentralized applications and crypto-currencies.",
                network: "solana",
                status: "distribution",
                trustRating: 8.7,
                participants: 8921,
                duration: "Completed",
                steps: [
                    "Download and set up Solana wallet",
                    "Get testnet SOL from faucet",
                    "Interact with dApps on testnet",
                    "Complete bounty tasks",
                    "Wait for token distribution"
                ],
                links: [
                    { name: "Website", url: "https://solana.com" },
                    { name: "Twitter", url: "https://twitter.com/solana" },
                    { name: "Discord", url: "https://discord.gg/solana" },
                    { name: "Docs", url: "https://docs.solana.com" }
                ]
            },
            {
                id: 3,
                name: "Sui Network",
                description: "Next-generation smart contract platform with high throughput and low latency.",
                network: "sui",
                status: "active",
                trustRating: 8.1,
                participants: 7543,
                duration: "30 days",
                steps: [
                    "Install Sui wallet extension",
                    "Get test SUI tokens",
                    "Try out Sui dApps",
                    "Report bugs and issues",
                    "Complete assigned tasks"
                ],
                links: [
                    { name: "Website", url: "https://sui.io" },
                    { name: "Twitter", url: "https://twitter.com/SuiNetwork" },
                    { name: "Discord", url: "https://discord.gg/sui" },
                    { name: "Docs", url: "https://docs.sui.io" }
                ]
            },
            {
                id: 4,
                name: "Base Protocol",
                description: "Coinbase's Layer 2 solution built on Optimism's OP Stack.",
                network: "base",
                status: "active",
                trustRating: 8.9,
                participants: 15632,
                duration: "60 days",
                steps: [
                    "Bridge ETH to Base testnet",
                    "Explore Base ecosystem dApps",
                    "Complete quests on Galxe",
                    "Provide liquidity on test DEX",
                    "Mint test NFTs"
                ],
                links: [
                    { name: "Website", url: "https://base.org" },
                    { name: "Twitter", url: "https://twitter.com/base" },
                    { name: "Discord", url: "https://discord.gg/base" },
                    { name: "Docs", url: "https://docs.base.org" }
                ]
            },
            {
                id: 5,
                name: "TON Blockchain",
                description: "Originally developed by Telegram, now community-driven blockchain platform.",
                network: "ton",
                status: "distribution",
                trustRating: 7.8,
                participants: 6321,
                duration: "Completed",
                steps: [
                    "Set up TON wallet",
                    "Get test TON coins",
                    "Try TON DNS and storage",
                    "Test TON-based dApps",
                    "Submit feedback form"
                ],
                links: [
                    { name: "Website", url: "https://ton.org" },
                    { name: "Twitter", url: "https://twitter.com/ton_blockchain" },
                    { name: "Telegram", url: "https://t.me/tonblockchain" },
                    { name: "Docs", url: "https://docs.ton.org" }
                ]
            },
            {
                id: 6,
                name: "Polygon zkEVM",
                description: "Ethereum-compatible zkRollup with full EVM opcode equivalence.",
                network: "polygon",
                status: "closed",
                trustRating: 9.0,
                participants: 10245,
                duration: "Completed",
                steps: [
                    "Bridge to Polygon zkEVM testnet",
                    "Deploy and test smart contracts",
                    "Interact with zkEVM dApps",
                    "Report any issues found",
                    "Complete the feedback survey"
                ],
                links: [
                    { name: "Website", url: "https://polygon.technology" },
                    { name: "Twitter", url: "https://twitter.com/0xPolygon" },
                    { name: "Discord", url: "https://discord.gg/polygon" },
                    { name: "Docs", url: "https://docs.polygon.technology" }
                ]
            }
        ];

        // DOM Elements
        const homePage = document.getElementById('homePage');
        const projectDetails = document.getElementById('projectDetails');
        const projectsGrid = document.getElementById('projectsGrid');
        const languageBtn = document.getElementById('languageBtn');
        const languageDropdown = document.getElementById('languageDropdown');
        const backBtn = document.getElementById('backBtn');
        const joinChannelBtn = document.getElementById('joinChannelBtn');
        const filterBtns = document.querySelectorAll('.filter-btn');

        // Initialize the app
        function initApp() {
            renderProjects();
            setupEventListeners();
            updateLanguage(currentLang);
        }

        // Render projects to the grid
        function renderProjects(filter = 'all') {
            projectsGrid.innerHTML = '';
            
            const filteredProjects = filter === 'all' 
                ? projects 
                : projects.filter(project => project.network === filter);
            
            filteredProjects.forEach(project => {
                const statusClass = `status-${project.status}`;
                let statusText = '';
                
                switch(project.status) {
                    case 'active': statusText = translations[currentLang].statusActive; break;
                    case 'closed': statusText = translations[currentLang].statusClosed; break;
                    case 'distribution': statusText = translations[currentLang].statusDistribution; break;
                }
                
                const projectCard = document.createElement('div');
                projectCard.className = 'project-card';
                projectCard.innerHTML = `
                    <div class="project-header">
                        <div class="project-name">${project.name}</div>
                        <div class="project-status ${statusClass}">${statusText}</div>
                    </div>
                    <div class="project-body">
                        <p class="project-description">${project.description}</p>
                        <div class="project-meta">
                            <div class="project-network">
                                <div class="network-icon" style="background: ${getNetworkColor(project.network)}"></div>
                                <span>${project.network.charAt(0).toUpperCase() + project.network.slice(1)}</span>
                            </div>
                            <div class="trust-rating">
                                <span class="rating-stars">${getRatingStars(project.trustRating)}</span>
                                <span>${project.trustRating}/10</span>
                            </div>
                        </div>
                    </div>
                `;
                
                projectCard.addEventListener('click', () => showProjectDetails(project));
                projectsGrid.appendChild(projectCard);
            });
        }

        // Show project details
        function showProjectDetails(project) {
            homePage.style.display = 'none';
            projectDetails.style.display = 'block';
            
            // Update project details
            document.getElementById('detailProjectName').textContent = project.name;
            document.getElementById('detailNetwork').textContent = project.network.charAt(0).toUpperCase() + project.network.slice(1);
            document.getElementById('detailRating').textContent = `${project.trustRating}/10`;
            document.getElementById('detailParticipants').textContent = project.participants.toLocaleString();
            document.getElementById('detailDuration').textContent = project.duration;
            document.getElementById('detailDescription').textContent = project.description;
            
            // Update status
            const statusElement = document.getElementById('detailStatus');
            statusElement.className = `project-status status-${project.status}`;
            switch(project.status) {
                case 'active': statusElement.textContent = translations[currentLang].statusActive; break;
                case 'closed': statusElement.textContent = translations[currentLang].statusClosed; break;
                case 'distribution': statusElement.textContent = translations[currentLang].statusDistribution; break;
            }
            
            // Render steps
            const stepsList = document.getElementById('stepsList');
            stepsList.innerHTML = '';
            project.steps.forEach(step => {
                const stepItem = document.createElement('li');
                stepItem.className = 'step-item';
                stepItem.textContent = step;
                stepsList.appendChild(stepItem);
            });
            
            // Render links
            const linksGrid = document.getElementById('linksGrid');
            linksGrid.innerHTML = '';
            project.links.forEach(link => {
                const linkBtn = document.createElement('button');
                linkBtn.className = 'link-btn';
                linkBtn.textContent = link.name;
                linkBtn.addEventListener('click', () => {
                    window.open(link.url, '_blank');
                });
                linksGrid.appendChild(linkBtn);
            });
        }

        // Get network color
        function getNetworkColor(network) {
            const colors = {
                ethereum: '#627EEA',
                solana: '#00FFA3',
                sui: '#6FBCF0',
                base: '#0052FF',
                ton: '#0088CC',
                polygon: '#8247E5',
                arbitrum: '#2D374B'
            };
            return colors[network] || '#666666';
        }

        // Get rating stars
        function getRatingStars(rating) {
            const fullStars = Math.floor(rating / 2);
            const halfStar = rating % 2 >= 1 ? '★' : '';
            const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
            
            return '★'.repeat(fullStars) + halfStar + '☆'.repeat(emptyStars);
        }

        // Update language
        function updateLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            
            // Update UI texts
            document.querySelector('.ongoingTestnets').textContent = t.ongoingTestnets;
            document.querySelector('.dailyUpdates').textContent = t.dailyUpdates;
            document.getElementById('backBtn').innerHTML = `<span>←</span> ${t.backToProjects}`;
            document.querySelector('.steps-section h3').textContent = t.howToParticipate;
            document.querySelector('.links-section h3').textContent = t.officialLinks;
            document.getElementById('joinChannelBtn').innerHTML = `<span>${t.joinChannel}</span>`;
            
            // Update language button
            languageBtn.querySelector('span').textContent = 
                lang === 'en' ? 'English' : lang === 'fr' ? 'Français' : 'العربية';
            
            // Update status texts in project cards
            document.querySelectorAll('.project-status').forEach(el => {
                if (el.classList.contains('status-active')) {
                    el.textContent = t.statusActive;
                } else if (el.classList.contains('status-closed')) {
                    el.textContent = t.statusClosed;
                } else if (el.classList.contains('status-distribution')) {
                    el.textContent = t.statusDistribution;
                }
            });
            
            // Update update badges
            document.querySelectorAll('.update-badge').forEach((badge, index) => {
                badge.textContent = index === 0 ? t.new : t.update;
            });
            
            // Re-render projects to update texts
            const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;
            renderProjects(activeFilter);
        }

        // Setup event listeners
        function setupEventListeners() {
            // Language switcher
            languageBtn.addEventListener('click', () => {
                languageDropdown.classList.toggle('active');
            });
            
            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', () => {
                    const lang = option.dataset.lang;
                    updateLanguage(lang);
                    languageDropdown.classList.remove('active');
                });
            });
            
            // Filter buttons
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderProjects(btn.dataset.filter);
                });
            });
            
            // Back button
            backBtn.addEventListener('click', () => {
                projectDetails.style.display = 'none';
                homePage.style.display = 'block';
            });
            
            // Join channel button
            joinChannelBtn.addEventListener('click', () => {
                tg.openTelegramLink('https://t.me/testscan_news');
            });
            
            // Close language dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!languageBtn.contains(e.target) && !languageDropdown.contains(e.target)) {
                    languageDropdown.classList.remove('active');
                }
            });
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
